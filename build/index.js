!function(){"use strict";var e={n:function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,{a:a}),a},d:function(t,a){for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,a=window.wp.serverSideRender,l=e.n(a),o=window.wp.i18n,n=window.wp.components,r=window.wp.editor;window.wp.data,window.wp.compose;const c=[{label:"Title",value:"title"},{label:"Date",value:"date"},{label:"Menu Order",value:"menu_order"},{label:"Random",value:"rand"}],i=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}];console.log("test"+ajaxurl);var d=ajaxurl+"/wp-admin/admin-ajax.php?action=wpcd_get_taxonomies_action";const s=[{label:"Categories",value:"category"}];wp.apiFetch({url:d}).then((e=>{jQuery.each(e,(function(e,t){s.push({label:t.label,value:t.name})}))}));const u={};var p=ajaxurl+"/wp-admin/admin-ajax.php?action=wpcd_get_taxonomy_terms_action";wp.apiFetch({url:p}).then((e=>{jQuery.each(e,(function(e,t){u[t.taxonomy]||(u[t.taxonomy]=[]),u[t.taxonomy].push({label:t.name,value:t.term_id})})),console.log(u)}));const w=e=>Array.isArray(u[e])?u[e]:[{label:"<No Categories Found>",value:null}];var h=window.wp.blocks;window.wp.date,(0,h.registerBlockType)("gcs/wp-category-dropdown",{title:"WP Category Dropdown",icon:"sort",category:"widgets",description:"This block displays the child categories based on the selected parent category.",example:{},supports:{align:!0},attributes:{align:{type:"string",default:""},orderby:{type:"string",default:"name"},order:{type:"string",default:"asc"},showcount:{type:"boolean",default:!0},hierarchical:{type:"boolean",default:!0},hide_empty:{type:"boolean",default:!0},category:{type:"string",default:"category"},exclude:{type:"array",default:[]},include:{type:"array",default:[]},default_option_text:{type:"string",default:(0,o.__)("Parent Category","wpcd")},default_option_sub:{type:"string",default:(0,o.__)("Child Category","wpcd")}},edit:e=>{const{attributes:{align:a,orderby:d,order:u,showcount:p,hierarchical:h,hide_empty:g,exclude:y,include:m,default_option_text:_,default_option_sub:b,category:C},className:f,setAttributes:v,isSelected:E}=e,x=(0,t.createElement)(r.InspectorControls,{key:"inspector"},(0,t.createElement)(n.PanelBody,{title:(0,o.__)("Category Dropdown Options")},(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.SelectControl,{label:"Order By",value:d,options:c,onChange:e=>v({orderby:e})})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.SelectControl,{label:"Order",value:u,options:i,onChange:e=>v({order:e})})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.ToggleControl,{label:(0,o.__)("Show the number of posts in each Category"),checked:p,onChange:e=>v({showcount:e}),help:p?(0,o.__)("Show the number of posts in each category for both parent and child categories","wpcd"):(0,o.__)("","wpcd")})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.ToggleControl,{label:(0,o.__)("Show the categories in a hierarchy"),checked:h,onChange:e=>v({hierarchical:e}),help:h?(0,o.__)("Shows only the parent categories in the first dropdown","wpcd"):(0,o.__)("Shows all the categories in the first dropdown","wpcd")})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.ToggleControl,{label:(0,o.__)("Hide the emtpy categories"),checked:g,onChange:e=>v({hide_empty:e}),help:g?(0,o.__)("Hides the categories without any posts in parent and child category dropdowns","wpcd"):(0,o.__)("All categories are shown in the dropdowns","wpcd")})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.SelectControl,{label:"Categories",value:C,options:s,onChange:t=>{e.setAttributes({category:t,exclude:[],include:[]})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.SelectControl,{multiple:!0,label:"Exclude Categories",value:y,options:w(C),onChange:t=>{e.setAttributes({exclude:t})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.SelectControl,{multiple:!0,label:"Include Categories",value:m,options:w(C),onChange:t=>{e.setAttributes({include:t})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.TextControl,{label:"Parent Category Text",value:_,onChange:e=>v({default_option_text:e})})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)(n.TextControl,{label:"Child Category Text",value:b,onChange:e=>v({default_option_sub:e})}))));return[(0,t.createElement)("div",{className:e.className},(0,t.createElement)(l(),{block:"gcs/wp-category-dropdown",attributes:e.attributes}),x)]},save(){return null}})}();